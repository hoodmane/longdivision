Package: longdivision.sty version 1.0
Author: Hood Chatham
Email: hood@mit.edu
Date: 2017-02-05
Files:
    longdivision.sty
    longdivision_example.tex
    longdivision_example.pdf
    README

License: All files have the Latex Project Public License.


Does long division. The dividend must be a positive decimal number and the divisor must be a positive integer. Correctly handles repeating decimals, putting a bar over the repeated part of the decimal. Handles dividends up to 20 digits long gracefully (though the typeset result will take up about a page) and dividends between 20 and 60 digits long slightly less gracefully.

Defines macros \longdivision and \intlongdivision. Each takes two mandatory arguments, a dividend and divisor. \longdivision keeps dividing until the remainder is zero, or it encounters a repeated remainder. \intlongdivision stops when the dividend stops (though the dividend doesn't have to be an integer).

\intlongdivision behaves similarly to the \longdiv command defined in longdiv.tex, though I think \intlongdivision looks better, and it can handle much larger dividends and divisors (the dividend is only constrained by the size of the page, and the divisor can be up to 8 digits long).


Both \longdivision and \intlongdivision have an optional argument, which is a list of key-value pairs. There is a command "\longdivisionkeys" which sets default values for these key-value argument. The following keys exist:

    max extra digits = <natural number> :
        This key indicates the maximum number of extra zeroes to add at the end of the number in the process of dividing. This key is ignored by \intlongdivision. If "max extra digits" is 0, \longdivision behaves like \intlongdivision, whereas if max_extra_digits is greater than 60, the behavior is the same as \longdivision without the optional argument. It might be prudent to use this optional argument if you are computing, say, 1/97 which has a 96 digit period (\longdivision will stop at 60 digits to avoid overfull boxes, but the result might not be ideal and specifying fewer digits is probably better). If a negative value is specified, it behaves as if no value was specified.

    stage = <natural number> :
        This key is for typesetting partially completed long division. If "stage = 0", it just shows the problem setup, if "stage = 1", it shows the first digit of division and also corresponding "multiply and subtract" work step. If "stage = n" then it gets the first n digits of the quotient and displays the work. Note that leading zeroes do not count toward the total.

    style = a choice one of "default", "standard", "tikz", or "german" :
        This changes the style of the output.
            "standard" : This draws standard North American long division. It uses a parenthesis and an hline for the division symbol, so depending on the font it might look ugly.
            "tikz" : This draws standard North American long division using tikz. It requires you to separately load tikz -- if you haven't loaded tikz, it will emit a warning and behave the same as "standard" style.
            "default" : This is the same as "tikz" if you have loaded "tikz" and "standard" elsewise.
            "german" : This does "german style" long division.
                    
        You could add your own style by defining "\longdiv_typeset_main_yourstylename:" and calling \longdiv_register_style_choices:n{yourstylename}. 
        The "\longdiv_typeset_main_yourstylename:" command receives as "input" the following four macros:
            \longdiv_typeset_divisor:  -- contains the value of the divisor (thing you are dividing by).
            \longdiv_typeset_quotient: -- contains the value of the quotient (result of division).
            \longdiv_typeset_dividend: -- contains the value of the dividend (thing being divided into).
            \longdiv_typeset_work:     -- produces the work. Needs to be inside of a tabular environment with parameters "\begi{tabular}[t]{@{}l@{}}".
    
    repeating decimal style = a choice of "overline" (the default), "dots", "dots all", "parentheses", or "none".
        "overline"    : Draw a line over the digits to be repeated.
        "dots"        : Place a dot over the first and last of the repeating section    
        "dots all"    : Place a dot over each digit to be repeated.
        "parentheses" : Put parentheses around the repeated digits. This creates some weird extra space, which could be kind of ugly.
        "none"        : Don't indicate repeated digits.
        
        You could add your own repeating decimal style by defining \longdiv_linkedlist_indicate_repeating_decimal_yourstylename:n and calling \longdiv_register_repeating_decimal_style_choices:n{yourstylename}. Such a function receives a natural number as input indicating where the repetition starts.


Please email me if you discover any bugs or have any feature requests. In particular, I am willing to make more styles on demand.